(function(e){function t(t){for(var r,c,a=t[0],u=t[1],l=t[2],h=0,f=[];h<a.length;h++)c=a[h],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/Traffic-light/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var s=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2593:function(e,t,n){"use strict";n("992b")},"4afd":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function i(e,t,n,i,o,c){var a=Object(r["t"])("router-view");return Object(r["n"])(),Object(r["d"])(a)}var o={name:"Red",data:function(){return{nowLight:null}},created:function(){localStorage.light&&(this.nowLight=JSON.parse(localStorage.light),this.$router.push("/".concat(this.nowLight)))}};n("6f2c");o.render=i;var c=o,a=n("6c02"),u={class:"outer"};function l(e,t,n,i,o,c){var a=Object(r["t"])("Spotlight"),l=Object(r["t"])("Counter");return Object(r["n"])(),Object(r["d"])("section",u,[Object(r["e"])(a,{activeTime:e.activeTime,light:e.light},null,8,["activeTime","light"]),Object(r["e"])(l,{nowCounter:10})])}var s=n("1da1"),h=(n("96cf"),n("d3b7"),Object(r["y"])("data-v-3032da76"));Object(r["q"])("data-v-3032da76");var f={class:"count"};Object(r["o"])();var p=h((function(e,t,n,i,o,c){return Object(r["n"])(),Object(r["d"])("p",f,Object(r["v"])(e.counter),1)})),d=(n("a9e3"),{name:"Counter",data:function(){return{counter:null}},props:{nowCounter:{type:Number}},methods:{countTimer:function(){var e=this;return new Promise((function(t){setTimeout((function(){e.counter-=1,e.countTimer()}),1e3),t()}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.counter=e.nowCounter,t.next=3,e.countTimer();case 3:case"end":return t.stop()}}),t)})))()}});n("9d43");d.render=p,d.__scopeId="data-v-3032da76";var g=d,m=(n("04d3"),Object(r["y"])("data-v-7d928826")),v=m((function(e,t,n,i,o,c){return Object(r["n"])(),Object(r["d"])(r["a"],null,[Object(r["e"])("div",{class:[{red:"red"===n.light,blink:e.blink&&"red"===n.light},"light bgRed"]},null,2),Object(r["e"])("div",{class:[{yellow:"yellow"===n.light,blink:e.blink&&"yellow"===n.light},"light bgYellow"]},null,2),Object(r["e"])("div",{class:[{green:"green"===n.light,blink:e.blink&&"green"===n.light},"light bgGreen"]},null,2)],64)})),b={name:"Spotlight",data:function(){return{blink:!1}},props:{light:{type:String},activeTime:{type:Number}},methods:{intervalBlink:function(){var e=this;return new Promise((function(t){setTimeout((function(){setInterval((function(){e.blink=!e.blink}),500)}),e.activeTime-3e3),t()}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.intervalBlink();case 2:case"end":return t.stop()}}),t)})))()}};n("2593");b.render=v,b.__scopeId="data-v-7d928826";var w=b,O={components:{Counter:g,Spotlight:w},name:"Red",data:function(){return{light:"red",activeTime:1e4}},methods:{switchRoute:function(){var e=this;return new Promise((function(t){setTimeout((function(){e.$router.push({name:"Yellow",params:{switchLight:"toGreen"}})}),e.activeTime),t()}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.light=JSON.stringify(e.light),t.next=3,e.switchRoute();case 3:case"end":return t.stop()}}),t)})))()}};O.render=l;var j=O,T={class:"outer"};function y(e,t,n,i,o,c){var a=Object(r["t"])("Spotlight"),u=Object(r["t"])("Counter");return Object(r["n"])(),Object(r["d"])("section",T,[Object(r["e"])(a,{activeTime:e.activeTime,light:e.light},null,8,["activeTime","light"]),Object(r["e"])(u,{nowCounter:3})])}var S={components:{Counter:g,Spotlight:w},name:"Yellow",data:function(){return{light:"yellow",switchValue:null,activeTime:3e3}},methods:{routeTo:function(){var e=this;return new Promise((function(t){if(localStorage.switchValue){e.switchValue=JSON.parse(localStorage.switchValue);var n=JSON.parse(localStorage.switchValue);"toGreen"===n?setTimeout((function(){e.$router.push({name:"Green"})}),e.activeTime):"toRed"===n&&setTimeout((function(){e.$router.push({name:"Red"})}),e.activeTime)}else setTimeout((function(){e.$router.push({name:"Green"})}),e.activeTime);t()}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.light=JSON.stringify(e.light),e.$route.params.switchLight&&(e.switchValue=e.$route.params.switchLight,localStorage.switchValue=JSON.stringify(e.switchValue)),t.next=4,e.routeTo();case 4:case"end":return t.stop()}}),t)})))()}};S.render=y;var R=S,k={class:"outer"};function x(e,t,n,i,o,c){var a=Object(r["t"])("Spotlight"),u=Object(r["t"])("Counter");return Object(r["n"])(),Object(r["d"])("section",k,[Object(r["e"])(a,{activeTime:e.activeTime,light:e.light},null,8,["activeTime","light"]),Object(r["e"])(u,{nowCounter:15})])}var C={components:{Counter:g,Spotlight:w},name:"Green",data:function(){return{light:"green",activeTime:15e3}},methods:{switchRoute:function(){var e=this;return new Promise((function(t){setTimeout((function(){e.$router.push({name:"Yellow",params:{switchLight:"toRed"}})}),e.activeTime),t()}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.light=JSON.stringify(e.light),t.next=3,e.switchRoute();case 3:case"end":return t.stop()}}),t)})))()}};C.render=x;var P=C,_=[{path:"/",redirect:"/red"},{path:"/red",name:"Red",component:j,props:!0},{path:"/yellow",name:"Yellow",component:R},{path:"/green",name:"Green",component:P,props:!0}],J=Object(a["a"])({history:Object(a["b"])("/Traffic-light/"),routes:_}),N=J;Object(r["c"])(c).use(N).mount("#app")},"6f2c":function(e,t,n){"use strict";n("ae3b")},"992b":function(e,t,n){},"9d43":function(e,t,n){"use strict";n("4afd")},ae3b:function(e,t,n){}});
//# sourceMappingURL=app.77132461.js.map